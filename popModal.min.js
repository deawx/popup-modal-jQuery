/*
popModal - 1.12 [19.12.14]
Author: vadimsva
Github: https://github.com/vadimsva/popModal
*/
(function(a){a.fn.popModal=function(b){function e(){function d(a){var c=Math.max(v,w,x);return("bottomLeft"==a?0<w:"bottomRight"==a?0<v:0<x)?a:0<w&&w==c?"bottomLeft":0<v&&v==c?"bottomRight":0<x&&x==c?"bottomCenter":a}if(g.inline)var b=m.position().left,f=m.position().top;else b=m.offset().left,f=m.offset().top;var e=parseInt(m.css("marginLeft"));parseInt(m.css("paddingLeft"));var p=parseInt(m.css("marginTop")),h=m.outerHeight(),k=m.outerWidth(),l=parseInt(c.css("maxWidth")),q=parseInt(c.css("minWidth")),
r=c.outerHeight();n?isNaN(l)&&(l=300):(isNaN(q)&&(q=180),l=q);c.css({width:l+"px"});var u,t=m.offset().left,z=a(window).width()-m.offset().left-k,A=m.offset().top,q=t-10-l,v=k+t-l,B=z-10-l,w=k+z-l,x=Math.min(k/2+z-l/2,k/2+t-l/2),t=A-r/2;/^bottom/.test(g.placement)?u=d(g.placement):/^left/.test(g.placement)?u=0<q?"leftCenter"==g.placement&&0<t?"leftCenter":"leftTop":d("bottomLeft"):/^right/.test(g.placement)&&(u=0<B?"rightCenter"==g.placement&&0<t?"rightCenter":"rightTop":d("bottomRight"));c.removeAttr("class").addClass("popModal animated "+
u);switch(u){case "bottomLeft":c.css({top:f+p+h+10+"px",left:b+e+"px"}).addClass("fadeInBottom");break;case "bottomRight":c.css({top:f+p+h+10+"px",left:b+e+k-l+"px"}).addClass("fadeInBottom");break;case "bottomCenter":c.css({top:f+p+h+10+"px",left:b+e+(k-l)/2+"px"}).addClass("fadeInBottom");break;case "leftTop":c.css({top:f+p+"px",left:b+e-l-10+"px"}).addClass("fadeInLeft");break;case "rightTop":c.css({top:f+p+"px",left:b+e+k+10+"px"}).addClass("fadeInRight");break;case "leftCenter":c.css({top:f+
p+h/2-r/2+"px",left:b+e-l-10+"px"}).addClass("fadeInLeft");break;case "rightCenter":c.css({top:f+p+h/2-r/2+"px",left:b+e+k+10+"px"}).addClass("fadeInRight")}}function h(){c=a(".popModal");c.length&&(d(),k||(k=c.css("animationDuration"),k=void 0!=k?1E3*k.replace("s",""):0),setTimeout(function(){a(".popModal_source").replaceWith(a(".popModal_content").children());c.remove();a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen")},k))}function d(){var a=c.attr("class"),d=a.replace("fadeIn",
"fadeOut");c.removeClass(a).addClass(d)}var m=a(this),c,f="",n=!0,p="",l,g,k,r,q={init:function(d){g=a.extend({html:"",placement:"bottomLeft",showCloseBut:!0,onDocumentClickClose:!0,onDocumentClickClosePrevent:"",overflowContent:!1,inline:!0,beforeLoadingContent:"Please, waiting...",onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},d);if(0!=a("body").find(".popModal").length&&a("body").find(".popModal").attr("data-popmodal_id")==m.attr("data-popmodal_id"))h();
else{a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen");a(".popModal_source").replaceWith(a(".popModal_content").children());a(".popModal").remove();g.showCloseBut&&(p=a('<button type="button" class="close">&times;</button>'));"fixed"==m.css("position")&&(f="position:fixed;");l=g.overflowContent?"popModal_contentOverflow":"";r=(new Date).getMilliseconds();m.attr("data-popmodal_id",r);d=a('<div class="popModal animated" style="'+f+'" data-popmodal_id="'+r+'"></div>');var b=a('<div class="popModal_content '+
l+'"></div>');d.append(p,b);a.isFunction(g.html)?(b.append(g.beforeLoadingContent),g.html(function(d){b.empty().append(d);c=a(".popModal");n=!0;e()})):("object"==a.type(g.html)&&g.html.after(a('<div class="popModal_source"></div>')),b.append(g.html));g.inline?m.after(d):a("body").append(d);c=a(".popModal");c.find(".popModal_footer")&&c.find(".popModal_content").css({marginBottom:c.find(".popModal_footer").outerHeight()+"px"});a.isFunction(g.html)||a.type(g.html);if(g.onLoad&&a.isFunction(g.onLoad))g.onLoad();
c.on("destroyed",function(){if(g.onClose&&a.isFunction(g.onClose))g.onClose()});n=!0;("absolute"!=m.parent().css("position")||"fixed"!=m.parent().css("position"))&&270>c.find(".popModal_content").width()&&20>=c.find(".popModal_content").height()&&0==c.find(".popModal_footer").length&&(n=!1);e();if(g.onDocumentClickClose)a("html").on("click.popModalEvent",function(d){a(this).addClass("popModalOpen");c.is(":hidden")&&h();var b=a(d.target);b.parents().andSelf().is(".popModal")||b.parents().andSelf().is(m)||
(d=parseInt(b.parents().filter(function(){return"auto"!==a(this).css("zIndex")}).first().css("zIndex")),isNaN(d)&&(d=0),""!=g.onDocumentClickClosePrevent&&b.is(g.onDocumentClickClosePrevent)&&(d=9999),b=b.css("zIndex"),"auto"==b&&(b=0),d<b&&(d=b),d<=c.css("zIndex")&&h())});a(window).resize(function(){e()});c.find(".close").on("click",function(){h();a(this).off("click")});c.find('[data-popmodal-but="close"]').on("click",function(){h();a(this).off("click")});c.find('[data-popmodal-but="ok"]').on("click",
function(c){var d;g.onOkBut&&a.isFunction(g.onOkBut)&&(d=g.onOkBut(c));!1!==d&&h();a(this).off("click")});c.find('[data-popmodal-but="cancel"]').on("click",function(){if(g.onCancelBut&&a.isFunction(g.onCancelBut))g.onCancelBut();h();a(this).off("click")});a("html").on("keydown.popModalEvent",function(a){27==a.keyCode&&h()})}return c},hide:function(){h()}};if(q[b])return q[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return q.init.apply(this,arguments)};a("* [data-popmodal-bind]").bind("click",
function(){var b=a(this).attr("data-popmodal-bind"),b={html:a(b)};void 0!=a(this).attr("data-placement")&&(b.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-showclose-but")&&(b.showCloseBut=/^true$/i.test(a(this).attr("data-showclose-but")));void 0!=a(this).attr("data-overflowcontent")&&(b.overflowContent=/^false$/i.test(a(this).attr("data-overflowcontent")));void 0!=a(this).attr("data-ondocumentclick-close")&&(b.onDocumentClickClose=/^true$/i.test(a(this).attr("data-ondocumentclick-close")));
void 0!=a(this).attr("data-ondocumentclick-close-prevent")&&(b.onDocumentClickClosePrevent=a(this).attr("data-ondocumentclick-close-prevent"));void 0!=a(this).attr("data-inline")&&(b.inline=/^true$/i.test(a(this).attr("data-inline")));void 0!=a(this).attr("data-beforeloading-content")&&(b.beforeLoadingContent=a(this).attr("data-beforeloading-content"));a(this).popModal(b)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.notifyModal=function(b){function e(){var d=a(".notifyModal");setTimeout(function(){d.removeClass("open");setTimeout(function(){d.remove();-1!=c.duration&&clearTimeout(notifDur);if(c.onClose&&a.isFunction(c.onClose))c.onClose()},f)},f)}var h=a(this),d,m="",c,f,n={init:function(b){c=a.extend({duration:2500,placement:"center",type:"notify",overlay:!0,onClose:function(){}},b);c.overlay&&(m="overlay");a(".notifyModal").remove();b=a('<div class="notifyModal '+c.placement+" "+m+" "+c.type+
'"></div>');var l=a('<div class="notifyModal_content"></div>'),g=a('<button type="button" class="close">&times;</button>');h=void 0==h[0]?h.selector:h[0].innerHTML;l.append(g,h);b.append(l);a("body").append(b);d=a(".notifyModal");f||(f=d.css("transitionDuration"),f=void 0!=f?1E3*f.replace("s",""):0);setTimeout(function(){d.addClass("open")},f);d.click(function(){e()});-1!=c.duration&&(notifDur=setTimeout(e,c.duration))},hide:function(){e()}};a("html").keydown(function(a){27==a.keyCode&&e()});if(n[b])return n[b].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return n.init.apply(this,arguments)};a("* [data-notifymodal-bind]").bind("click",function(){var b=a(this).attr("data-notifymodal-bind"),e={};void 0!=a(this).attr("data-duration")&&(e.duration=parseInt(a(this).attr("data-duration")));void 0!=a(this).attr("data-placement")&&(e.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-ontop")&&(e.onTop=/^true$/i.test(a(this).attr("data-ontop")));a(b).notifyModal(e)})})(jQuery);
(function(a){a.fn.hintModal=function(b){a(".hintModal").off();var e={init:function(b){a(this).on("mouseenter",function(){var d=a(this).find("> .hintModal_container");if(1<d[0].innerText.length){d.addClass("animated fadeInBottom");var b=a(this),c,f=b.outerWidth();c=d.outerWidth();var e=b.offset().left,h=a(window).width()-b.offset().left-f,d=f+e-c,l=f+h-c,f=Math.min(f/2+h-c/2,f/2+e-c/2);c=b.hasClass("bottomLeft")?"bottomLeft":b.hasClass("bottomCenter")?"bottomCenter":b.hasClass("bottomRight")?"bottomRight":
"bottomLeft";void 0==b.data("placement")&&b.data("placement",c);c=b.data("placement");e=Math.max(d,l,f);d=("bottomLeft"==c?0<l:"bottomRight"==c?0<d:0<f)?c:0<l&&l==e?"bottomLeft":0<d&&d==e?"bottomRight":0<f&&f==e?"bottomCenter":c;b.removeAttr("class").addClass("hintModal "+d)}});a(this).on("mouseleave",function(){var d=a(this).find("> .hintModal_container");1<d[0].innerText.length&&d.removeClass("animated fadeInBottom")})}};if(e[b])return e[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===
typeof b||!b)return e.init.apply(this,arguments)};a(".hintModal").hintModal()})(jQuery);
(function(a){a.fn.dialogModal=function(b){function e(){var c=a(".dialogModal");setTimeout(function(){c.removeClass("open");setTimeout(function(){c.remove();a("body").removeClass("dialogModalOpen").css({paddingRight:""});a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");c.find(".dialogPrev").off("click");c.find(".dialogNext").off("click")},f)},f)}var h=a(this),d,m,c,f,n={init:function(b){function l(){var c=m.outerHeight();a(window).height()>c+80?m.css({marginTop:(a(window).height()-
c)/2-100+"px"}):m.css({marginTop:"60px"});setTimeout(function(){d.addClass("open")},f);g()}function g(){d.find('[data-dialogmodal-but="close"]').on("click",function(){e();a(this).off("click")});d.find('[data-dialogmodal-but="ok"]').on("click",function(b){var d;c.onOkBut&&a.isFunction(c.onOkBut)&&(d=c.onOkBut(b));!1!==d&&e();a(this).off("click")});d.find('[data-dialogmodal-but="cancel"]').on("click",function(){if(c.onCancelBut&&a.isFunction(c.onCancelBut))c.onCancelBut();e();a(this).off("click")})}
c=a.extend({onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},b);a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");a(".dialogModal .dialogPrev, .dialogModal .dialogNext").off("click");a(".dialogModal").remove();var k=0,n=h.length-1;dialogMain=a('<div class="dialogModal"></div>');dialogContainer=a('<div class="dialogModal_container"></div>');dialogCloseBut=a('<button type="button" class="close">&times;</button>');dialogBody=
a('<div class="dialogModal_body"></div>');dialogMain.append(dialogContainer);dialogContainer.append(dialogCloseBut,dialogBody);dialogBody.append(h[k].innerHTML);0<n&&dialogContainer.prepend(a('<div class="dialogPrev notactive"></div><div class="dialogNext"></div>'));a("body").append(dialogMain);d=a(".dialogModal");m=a(".dialogModal_container");f||(f=d.css("transitionDuration"),f=void 0!=f?1E3*f.replace("s",""):0);if(c.onLoad&&a.isFunction(c.onLoad))c.onLoad();d.on("destroyed",function(){if(c.onClose&&
a.isFunction(c.onClose))c.onClose()});b=window.innerWidth-a(window).outerWidth();a("body").css({paddingRight:b+"px"}).addClass("dialogModalOpen");l();d.find(".dialogPrev").on("click",function(){0<k&&(--k,k<n&&d.find(".dialogNext").removeClass("notactive"),0==k&&d.find(".dialogPrev").addClass("notactive"),dialogBody.empty().append(h[k].innerHTML),l())});d.find(".dialogNext").on("click",function(){k<n&&(++k,0<k&&d.find(".dialogPrev").removeClass("notactive"),k==n&&d.find(".dialogNext").addClass("notactive"),
dialogBody.empty().append(h[k].innerHTML),l())});d.find(".close").on("click",function(){e();a(this).off("click")});a("html").on("keydown.dialogModalEvent",function(a){27==a.keyCode?e():37==a.keyCode?d.find(".dialogPrev").click():39==a.keyCode&&d.find(".dialogNext").click()})},hide:function(){e()}};if(n[b])return n[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return n.init.apply(this,arguments)};a("* [data-dialogmodal-bind]").bind("click",function(){var b=a(this).attr("data-dialogmodal-bind");
a(b).dialogModal()});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.titleModal=function(b){a(".titleModal").off();var e={init:function(b){var d,e;b=a(".titleModal");b.on("mouseenter",function(){d=a(this);if(void 0!=d.attr("title")){titleAttr=d.attr("title");d.removeAttr("title");d.attr("data-title",titleAttr);titleModal=a('<div class="titleModal_container animated"></div>');e=a(".titleModal_container");placement=d.attr("data-placement");void 0==placement&&(placement="bottom");e&&e.remove();d.append(titleModal.append(titleAttr));e=a(".titleModal_container");
var c=d.position().left,b=d.position().top,h=d.css("marginLeft"),p=d.css("marginTop"),l=d.css("marginBottom"),g=d.outerHeight(),k=d.outerWidth(),r=e.css("marginTop"),q=e.outerWidth(),y=e.outerHeight();switch(placement){case "bottom":e.css({marginTop:parseInt(r)-parseInt(l)+"px",left:c+parseInt(h)+(k-q)/2+"px"}).addClass("fadeInBottom");break;case "top":e.css({top:b+parseInt(p)-y+"px",left:c+parseInt(h)+(k-q)/2+"px"}).addClass("top fadeInTop");break;case "left":e.css({top:b+parseInt(p)+g/2-y/2+"px",
left:c+parseInt(h)-q-10+"px"}).addClass("left fadeInLeft");break;case "right":e.css({top:b+parseInt(p)+g/2-y/2+"px",left:c+parseInt(h)+k+10+"px"}).addClass("right fadeInRight")}}});b.on("mouseleave",function(){d=a(this);if(void 0!=d.attr("data-title")){titleAttr=d.attr("data-title");d.removeAttr("data-title");d.attr("title",titleAttr);var b=e.attr("class"),f=b.replace("fadeIn","fadeOut");e.removeClass(b).addClass(f);e.remove()}})}};if(e[b])return e[b].apply(this,Array.prototype.slice.call(arguments,
1));if("object"===typeof b||!b)return e.init.apply(this,arguments)};a(".titleModal").titleModal()})(jQuery);

/*
popModal - 1.13 [03.02.15]
Author: vadimsva
Github: https://github.com/vadimsva/popModal
*/
(function(a){a.fn.popModal=function(b){function f(){function c(a){var d=Math.max(w,x,y);return("bottomLeft"==a?0<x:"bottomRight"==a?0<w:0<y)?a:0<x&&x==d?"bottomLeft":0<w&&w==d?"bottomRight":0<y&&y==d?"bottomCenter":a}if(e.inline)var b=g.position().left,h=g.position().top;else b=g.offset().left,h=g.offset().top;var f=parseInt(g.css("marginLeft"));parseInt(g.css("paddingLeft"));var k=parseInt(g.css("marginTop")),q=g.outerHeight(),m=g.outerWidth(),l=parseInt(d.css("maxWidth")),n=parseInt(d.css("minWidth")),
p=d.outerHeight();r?isNaN(l)&&(l=300):(isNaN(n)&&(n=180),l=n);d.css({width:l+"px"});var v,u=g.offset().left,z=a(window).width()-g.offset().left-m,C=g.offset().top,n=u-10-l,w=m+u-l,D=z-10-l,x=m+z-l,y=Math.min(m/2+z-l/2,m/2+u-l/2),u=C-p/2;/^bottom/.test(e.placement)?v=c(e.placement):/^left/.test(e.placement)?v=0<n?"leftCenter"==e.placement&&0<u?"leftCenter":"leftTop":c("bottomLeft"):/^right/.test(e.placement)&&(v=0<D?"rightCenter"==e.placement&&0<u?"rightCenter":"rightTop":c("bottomRight"));d.removeAttr("class").addClass("popModal animated "+
v);switch(v){case "bottomLeft":d.css({top:h+k+q+10+"px",left:b+f+"px"}).addClass("fadeInBottom");break;case "bottomRight":d.css({top:h+k+q+10+"px",left:b+f+m-l+"px"}).addClass("fadeInBottom");break;case "bottomCenter":d.css({top:h+k+q+10+"px",left:b+f+(m-l)/2+"px"}).addClass("fadeInBottom");break;case "leftTop":d.css({top:h+k+"px",left:b+f-l-10+"px"}).addClass("fadeInLeft");break;case "rightTop":d.css({top:h+k+"px",left:b+f+m+10+"px"}).addClass("fadeInRight");break;case "leftCenter":d.css({top:h+
k+q/2-p/2+"px",left:b+f-l-10+"px"}).addClass("fadeInLeft");break;case "rightCenter":d.css({top:h+k+q/2-p/2+"px",left:b+f+m+10+"px"}).addClass("fadeInRight")}}function k(){d=a(".popModal");d.length&&(c(),m||(m=d.css("animationDuration"),m=void 0!=m?1E3*m.replace("s",""):0),setTimeout(function(){a(".popModal_source").replaceWith(a(".popModal_content").children());d.remove();a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen")},m))}function c(){var a=d.attr("class"),c=a.replace("fadeIn",
"fadeOut");d.removeClass(a).addClass(c)}var g=a(this),d,h="",r=!0,q="",l,e,m,p,n={init:function(c){e=a.extend({html:"",placement:"bottomLeft",showCloseBut:!0,onDocumentClickClose:!0,onDocumentClickClosePrevent:"",overflowContent:!1,inline:!0,beforeLoadingContent:"Please, waiting...",onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},c);if(0!=a("body").find(".popModal").length&&a("body").find(".popModal").attr("data-popmodal_id")==g.attr("data-popmodal_id"))k();
else{a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen");a(".popModal_source").replaceWith(a(".popModal_content").children());a(".popModal").remove();e.showCloseBut&&(q=a('<button type="button" class="close">&times;</button>'));"fixed"==g.css("position")&&(h="position:fixed;");l=e.overflowContent?"popModal_contentOverflow":"";p=(new Date).getMilliseconds();g.attr("data-popmodal_id",p);c=a('<div class="popModal animated" style="'+h+'" data-popmodal_id="'+p+'"></div>');var b=a('<div class="popModal_content '+
l+'"></div>');c.append(q,b);a.isFunction(e.html)?(b.append(e.beforeLoadingContent),e.html(function(c){b.empty().append(c);d=a(".popModal");r=!0;f()})):("object"==a.type(e.html)&&e.html.after(a('<div class="popModal_source"></div>')),b.append(e.html));500>=a(window).width()&&(e.inline=!0);e.inline?g.after(c):a("body").append(c);d=a(".popModal");d.find(".popModal_footer")&&d.find(".popModal_content").css({marginBottom:d.find(".popModal_footer").outerHeight()+"px"});a.isFunction(e.html)||a.type(e.html);
if(e.onLoad&&a.isFunction(e.onLoad))e.onLoad();d.on("destroyed",function(){if(e.onClose&&a.isFunction(e.onClose))e.onClose()});r=!0;("absolute"!=g.parent().css("position")||"fixed"!=g.parent().css("position"))&&270>d.find(".popModal_content").width()&&20>=d.find(".popModal_content").height()&&0==d.find(".popModal_footer").length&&(r=!1);f();if(e.onDocumentClickClose)a("html").on("click.popModalEvent",function(c){a(this).addClass("popModalOpen");d.is(":hidden")&&k();var b=a(c.target);b.parents().andSelf().is(".popModal")||
b.parents().andSelf().is(g)||(c=parseInt(b.parents().filter(function(){return"auto"!==a(this).css("zIndex")}).first().css("zIndex")),isNaN(c)&&(c=0),""!=e.onDocumentClickClosePrevent&&b.is(e.onDocumentClickClosePrevent)&&(c=9999),b=b.css("zIndex"),"auto"==b&&(b=0),c<b&&(c=b),c<=d.css("zIndex")&&k())});a(window).resize(function(){f()});d.find(".close").on("click",function(){k();a(this).off("click")});d.find('[data-popmodal-but="close"]').on("click",function(){k();a(this).off("click")});d.find('[data-popmodal-but="ok"]').on("click",
function(c){var d;e.onOkBut&&a.isFunction(e.onOkBut)&&(d=e.onOkBut(c));!1!==d&&k();a(this).off("click")});d.find('[data-popmodal-but="cancel"]').on("click",function(){if(e.onCancelBut&&a.isFunction(e.onCancelBut))e.onCancelBut();k();a(this).off("click")});a("html").on("keydown.popModalEvent",function(a){27==a.keyCode&&k()})}return d},hide:function(){k()}};if(n[b])return n[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return n.init.apply(this,arguments)};a("* [data-popmodal-bind]").bind("click",
function(){var b=a(this).attr("data-popmodal-bind"),b={html:a(b)};void 0!=a(this).attr("data-placement")&&(b.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-showclose-but")&&(b.showCloseBut=/^true$/i.test(a(this).attr("data-showclose-but")));void 0!=a(this).attr("data-overflowcontent")&&(b.overflowContent=/^false$/i.test(a(this).attr("data-overflowcontent")));void 0!=a(this).attr("data-ondocumentclick-close")&&(b.onDocumentClickClose=/^true$/i.test(a(this).attr("data-ondocumentclick-close")));
void 0!=a(this).attr("data-ondocumentclick-close-prevent")&&(b.onDocumentClickClosePrevent=a(this).attr("data-ondocumentclick-close-prevent"));void 0!=a(this).attr("data-inline")&&(b.inline=/^true$/i.test(a(this).attr("data-inline")));void 0!=a(this).attr("data-beforeloading-content")&&(b.beforeLoadingContent=a(this).attr("data-beforeloading-content"));a(this).popModal(b)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.notifyModal=function(b){function f(){var c=a(".notifyModal");setTimeout(function(){c.removeClass("open");setTimeout(function(){c.remove();-1!=d.duration&&clearTimeout(notifDur);if(d.onClose&&a.isFunction(d.onClose))d.onClose()},h)},h)}var k=a(this),c,g="",d,h,r={init:function(b){d=a.extend({duration:2500,placement:"center",type:"notify",overlay:!0,onClose:function(){}},b);d.overlay&&(g="overlay");a(".notifyModal").remove();b=a('<div class="notifyModal '+d.placement+" "+g+" "+d.type+
'"></div>');var r=a('<div class="notifyModal_content"></div>'),e=a('<button type="button" class="close">&times;</button>');k=void 0==k[0]?k.selector:k[0].innerHTML;r.append(e,k);b.append(r);a("body").append(b);c=a(".notifyModal");h||(h=c.css("transitionDuration"),h=void 0!=h?1E3*h.replace("s",""):0);setTimeout(function(){c.addClass("open")},h);c.click(function(){f()});-1!=d.duration&&(notifDur=setTimeout(f,d.duration))},hide:function(){f()}};a("html").keydown(function(a){27==a.keyCode&&f()});if(r[b])return r[b].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return r.init.apply(this,arguments)};a("* [data-notifymodal-bind]").bind("click",function(){var b=a(this).attr("data-notifymodal-bind"),f={};void 0!=a(this).attr("data-duration")&&(f.duration=parseInt(a(this).attr("data-duration")));void 0!=a(this).attr("data-placement")&&(f.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-ontop")&&(f.onTop=/^true$/i.test(a(this).attr("data-ontop")));a(b).notifyModal(f)})})(jQuery);
(function(a){a.fn.hintModal=function(b){a(".hintModal").off();var f={init:function(b){a(this).on("mouseenter",function(){var c=a(this).find("> .hintModal_container");if(1<c[0].innerText.length){c.addClass("animated fadeInBottom");var b=a(this),d,h=b.outerWidth();d=c.outerWidth();var f=b.offset().left,k=a(window).width()-b.offset().left-h,c=h+f-d,l=h+k-d,h=Math.min(h/2+k-d/2,h/2+f-d/2);d=b.hasClass("bottomLeft")?"bottomLeft":b.hasClass("bottomCenter")?"bottomCenter":b.hasClass("bottomRight")?"bottomRight":
"bottomLeft";void 0==b.data("placement")&&b.data("placement",d);d=b.data("placement");f=Math.max(c,l,h);c=("bottomLeft"==d?0<l:"bottomRight"==d?0<c:0<h)?d:0<l&&l==f?"bottomLeft":0<c&&c==f?"bottomRight":0<h&&h==f?"bottomCenter":d;b.removeAttr("class").addClass("hintModal "+c)}});a(this).on("mouseleave",function(){var c=a(this).find("> .hintModal_container");1<c[0].innerText.length&&c.removeClass("animated fadeInBottom")})}};if(f[b])return f[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===
typeof b||!b)return f.init.apply(this,arguments)};a(".hintModal").hintModal()})(jQuery);
(function(a){a.fn.dialogModal=function(b){function f(){var c=a(".dialogModal");setTimeout(function(){c.removeClass("open");setTimeout(function(){c.remove();a("body").removeClass("dialogModalOpen").css({paddingRight:""});a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");c.find(".dialogPrev").off("click");c.find(".dialogNext").off("click")},d)},d)}var k=a(this),c,g,d,h={init:function(b){function h(){c.find('[data-dialogmodal-but="close"]').on("click",function(){f();a(this).off("click")});
c.find('[data-dialogmodal-but="ok"]').on("click",function(c){var b;g.onOkBut&&a.isFunction(g.onOkBut)&&(b=g.onOkBut(c));!1!==b&&f();a(this).off("click")});c.find('[data-dialogmodal-but="cancel"]').on("click",function(){if(g.onCancelBut&&a.isFunction(g.onCancelBut))g.onCancelBut();f();a(this).off("click")});c.find('[data-dialogmodal-but="prev"]').on("click",function(){c.find(".dialogPrev").click()});c.find('[data-dialogmodal-but="next"]').on("click",function(){c.find(".dialogNext").click()})}function l(){t.empty().append(k[e].innerHTML);
n.find("span").html(k.find(".dialogModal_header")[e].innerHTML);h()}g=a.extend({topOffset:0,onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},b);a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");a(".dialogModal .dialogPrev, .dialogModal .dialogNext").off("click");a(".dialogModal").remove();var e=0,m=k.length-1;b=a('<div class="dialogModal" style="top:'+g.topOffset+'px"></div>');var p=a('<div class="dialogModal_top animated"></div>'),
n=a('<div class="dialogModal_header"></div>'),t=a('<div class="dialogModal_body animated"></div>'),B=a('<button type="button" class="close">&times;</button>');b.append(p,t);p.append(n);n.append(B);t.append(k[e].innerHTML);0<m&&n.append(a('<div class="dialogNext">&rsaquo;</div><div class="dialogPrev notactive">&lsaquo;</div>'));n.append("<span>"+k.find(".dialogModal_header")[e].innerHTML+"</span>");a("body").append(b).css({paddingRight:A+"px"}).addClass("dialogModalOpen");var A=b.outerWidth()-b[0].scrollWidth;
p.css({right:A+"px"});c=a(".dialogModal");d||(d=c.css("transitionDuration"),d=void 0!=d?1E3*d.replace("s",""):0);if(g.onLoad&&a.isFunction(g.onLoad))g.onLoad();c.on("destroyed",function(){if(g.onClose&&a.isFunction(g.onClose))g.onClose()});setTimeout(function(){c.addClass("open");setTimeout(function(){p.addClass("fadeInTopBig");t.addClass("fadeInTopBig")},2*d)},d);h();c.find(".dialogPrev").on("click",function(){0<e&&(--e,e<m&&c.find(".dialogNext").removeClass("notactive"),0==e&&c.find(".dialogPrev").addClass("notactive"),
l())});c.find(".dialogNext").on("click",function(){e<m&&(++e,0<e&&c.find(".dialogPrev").removeClass("notactive"),e==m&&c.find(".dialogNext").addClass("notactive"),l())});c.find(".close").on("click",function(){f();a(this).off("click")});a("html").on("keydown.dialogModalEvent",function(a){27==a.keyCode?f():37==a.keyCode?c.find(".dialogPrev").click():39==a.keyCode&&c.find(".dialogNext").click()})},hide:function(){f()}};if(h[b])return h[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===
typeof b||!b)return h.init.apply(this,arguments)};a("* [data-dialogmodal-bind]").bind("click",function(){var b=a(this).attr("data-dialogmodal-bind"),f={};void 0!=a(this).attr("data-topoffset")&&(f.topOffset=a(this).attr("data-topoffset"));a(b).dialogModal(f)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.titleModal=function(b){a(".titleModal").off();var f={init:function(b){var c,g;b=a(".titleModal");b.on("mouseenter",function(){c=a(this);if(void 0!=c.attr("title")){titleAttr=c.attr("title");c.removeAttr("title");c.attr("data-title",titleAttr);titleModal=a('<div class="titleModal_container animated"></div>');g=a(".titleModal_container");placement=c.attr("data-placement");void 0==placement&&(placement="bottom");g&&g.remove();c.append(titleModal.append(titleAttr));g=a(".titleModal_container");
var b=c.position().left,f=c.position().top,k=c.css("marginLeft"),q=c.css("marginTop"),l=c.css("marginBottom"),e=c.outerHeight(),m=c.outerWidth(),p=g.css("marginTop"),n=g.outerWidth(),t=g.outerHeight();switch(placement){case "bottom":g.css({marginTop:parseInt(p)-parseInt(l)+"px",left:b+parseInt(k)+(m-n)/2+"px"}).addClass("fadeInBottom");break;case "top":g.css({top:f+parseInt(q)-t+"px",left:b+parseInt(k)+(m-n)/2+"px"}).addClass("top fadeInTop");break;case "left":g.css({top:f+parseInt(q)+e/2-t/2+"px",
left:b+parseInt(k)-n-10+"px"}).addClass("left fadeInLeft");break;case "right":g.css({top:f+parseInt(q)+e/2-t/2+"px",left:b+parseInt(k)+m+10+"px"}).addClass("right fadeInRight")}}});b.on("mouseleave",function(){c=a(this);if(void 0!=c.attr("data-title")){titleAttr=c.attr("data-title");c.removeAttr("data-title");c.attr("title",titleAttr);var b=g.attr("class"),f=b.replace("fadeIn","fadeOut");g.removeClass(b).addClass(f);g.remove()}})}};if(f[b])return f[b].apply(this,Array.prototype.slice.call(arguments,
1));if("object"===typeof b||!b)return f.init.apply(this,arguments)};a(".titleModal").titleModal()})(jQuery);

function notifyModal(o){function e(){setTimeout(function(){$("."+n).removeClass("open"),setTimeout(function(){$("."+n).remove(),-1!=_options.duration&&clearTimeout(notifDur)},d)},d)}var t,n="notifyModal",i={html:"",duration:2500,placement:"center",onTop:!0};_options=$.extend(i,o),""==_options.placement&&(_options.placement="center"),t=_options.onTop?"onTop":"",$("."+n).remove();var a=$('<div class="'+n+" "+_options.placement+" "+t+'"></div>'),l=$('<div class="'+n+'_content"></div>'),s=$('<button type="button" class="close">&times;</button>');l.append(s,_options.html),a.append(l),$("body").append(a);var d=$("."+n).css("transitionDuration");d=void 0!=d&&"0s"!=d?1e3*d.replace("s",""):0,setTimeout(function(){$("."+n).addClass("open")},d),$("."+n).click(function(){e()}),-1!=_options.duration&&(notifDur=setTimeout(e,_options.duration)),$("html").keydown(function(o){27==o.keyCode&&e()})}function hintModal(){var o="hintModal",e=!1;if($("."+o).length){var t=$("."+o+"_container").css("transitionDuration");t=void 0!=t&&"0s"!=t?1e3*t.replace("s",""):0}$("."+o).mouseenter(function(){var n=$(this).find("."+o+"_container");$("."+o+"_container").removeClass("open").css({display:"none"}),n.css({display:"block"}),setTimeout(function(){n.addClass("open"),e=!0},t)}),$("."+o).mouseleave(function(){var n=$("."+o+"_container");e&&setTimeout(function(){n.removeClass("open"),setTimeout(function(){n.css({display:"none"}),e=!1,t=0},t)},t)})}!function($){$.fn.popModal=function(f){function popModalClose(){setTimeout(function(){$("."+modalClass).removeClass("open"),setTimeout(function(){$("."+modalClass).remove(),$("html."+popModalOpen).off("click").removeClass(popModalOpen)},animTime)},animTime)}function checkEvent(o,e){var t,n=!1;return t=$._data(o[0],"events"),t&&$.each(t,function(o){o==e&&(n=!0)}),n}var g=$(this),isClick=checkEvent(g,"click"),isFixed,overflowContentClass,closeBut,modalClass="popModal",popModalOpen="popModalOpen",_options,animTime,methods={init:function(c){function _init(){if(g.next("div").hasClass(modalClass))popModalClose();else{$("html."+popModalOpen).off("click").removeClass(popModalOpen),$("."+modalClass).remove(),isFixed="fixed"==g.css("position")?"position:fixed;":"";var a="top:"+eval(g.position().top+parseInt(g.css("marginTop"))+g.outerHeight()+10)+"px",tooltipContainer=$('<div class="'+modalClass+" "+_options.placement+'" style="'+isFixed+a+'"></div>'),tooltipContent=$('<div class="'+modalClass+"_content "+overflowContentClass+'"></div>');if(tooltipContainer.append(closeBut,tooltipContent),$.isFunction(_options.html)){var b="Please, waiting...";tooltipContent.append(b),_options.html(function(o){tooltipContent.empty().append(o)})}else tooltipContent.append(_options.html);g.after(tooltipContainer),animTime=$("."+modalClass).css("transitionDuration"),animTime=void 0!=animTime&&"0s"!=animTime?1e3*animTime.replace("s",""):0,_options.onLoad&&$.isFunction(_options.onLoad)&&_options.onLoad(),$("."+modalClass).on("destroyed",function(){_options.onClose&&$.isFunction(_options.onClose)&&_options.onClose()}),getPlacement(),_options.overflowContent&&$("."+modalClass).append($("."+modalClass).find("."+modalClass+"_content ."+modalClass+"_footer")),setTimeout(function(){$("."+modalClass).addClass("open")},animTime),$(".popModal .close").bind("click",function(){popModalClose()}),$("html").on("click",function(o){$(this).addClass(popModalOpen),$("."+modalClass).is(":hidden")&&popModalClose();var e=$(o.target);e.parents().andSelf().is("."+modalClass)||e.parents().andSelf().is(g)||popModalClose()}),$(window).resize(function(){getPlacement()}),$('.popModal [data-popmodal="close"]').bind("click",function(){popModalClose()}),$('.popModal [data-popmodal="ok"]').bind("click",function(o){var e;_options.okFun&&$.isFunction(_options.okFun)&&(e=_options.okFun(o)),e!==!1&&popModalClose()}),$('.popModal [data-popmodal="cancel"]').bind("click",function(){_options.cancelFun&&$.isFunction(_options.cancelFun)&&_options.cancelFun(),popModalClose()}),$("html").keydown(function(o){27==o.keyCode&&popModalClose()})}}function getPlacement(){switch(_options.placement){case"bottomLeft":$("."+modalClass).css({left:g.position().left+parseInt(g.css("marginLeft"))+"px"});break;case"bottomRight":$("."+modalClass).css({left:g.position().left+parseInt(g.css("marginLeft"))+g.outerWidth()-$("."+modalClass).outerWidth()+"px",width:$("."+modalClass).outerWidth()+"px"});break;case"bottomCenter":$("."+modalClass).css({left:g.position().left+parseInt(g.css("marginLeft"))+(g.outerWidth()-$("."+modalClass).outerWidth())/2+"px",width:$("."+modalClass).outerWidth()+"px"});break;case"leftTop":$("."+modalClass).css({top:eval(g.position().top+parseInt(g.css("marginTop")))+"px",left:g.position().left+parseInt(g.css("marginLeft"))-$("."+modalClass).outerWidth()-10+"px",width:$("."+modalClass).outerWidth()+"px"});break;case"rightTop":$("."+modalClass).css({top:eval(g.position().top+parseInt(g.css("marginTop")))+"px",left:g.position().left+parseInt(g.css("marginLeft"))+g.outerWidth()+10+"px",width:$("."+modalClass).outerWidth()+"px"});break;case"leftCenter":$("."+modalClass).css({top:eval(g.position().top+parseInt(g.css("marginTop"))+g.outerHeight()/2-$("."+modalClass).outerHeight()/2)+"px",left:g.position().left+parseInt(g.css("marginLeft"))-$("."+modalClass).outerWidth()-10+"px",width:$("."+modalClass).outerWidth()+"px"});break;case"rightCenter":$("."+modalClass).css({top:eval(g.position().top+parseInt(g.css("marginTop"))+g.outerHeight()/2-$("."+modalClass).outerHeight()/2)+"px",left:g.position().left+parseInt(g.css("marginLeft"))+g.outerWidth()+10+"px",width:$("."+modalClass).outerWidth()+"px"})}}var d={html:"",placement:"bottomLeft",showCloseBut:!0,overflowContent:!0,okFun:function(){return!0},cancelFun:function(){},onLoad:function(){},onClose:function(){}};_options=$.extend(d,c),closeBut=_options.showCloseBut?$('<button type="button" class="close">&times;</button>'):"",overflowContentClass=_options.overflowContent?"popModal_contentOverflow":"",isClick?_init():g.on("click",function(){_init()})},hide:function(){popModalClose()}};return methods[f]?methods[f].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof f&&f?void 0:methods.init.apply(this,arguments)},$.event.special.destroyed={remove:function(o){o.handler&&o.handler()}}}(jQuery),function(){hintModal()}(jQuery),function(o){o.fn.dialogModal=function(e){function t(){setTimeout(function(){o("."+d).removeClass("open"),setTimeout(function(){o("."+d).remove(),o("html."+p).off("click").removeClass(p)},a)},a)}function n(e,t){var n,i=!1;return n=o._data(e[0],"events"),n&&o.each(n,function(o){o==t&&(i=!0)}),i}var i,a,l=o(this),s=n(l,"click"),d="dialogModal",p="dialogModalOpen",c={init:function(e){function n(){function e(){var e=o("."+d+"_container").outerHeight(),t=o(window).height();o("."+d+"_container").css(t>e+80?{top:"50%",marginTop:-e/2+20+"px"}:{top:0,marginTop:"60px"}),setTimeout(function(){o("."+d).addClass("open"),o("."+d+"_container").css({marginTop:parseInt(o("."+d+"_container").css("marginTop"))-20+"px"})},a),n()}function n(){o('.dialogModal [data-dialogmodal="close"]').bind("click",function(){t()}),o('.dialogModal [data-dialogmodal="ok"]').bind("click",function(e){var n;i.okFun&&o.isFunction(i.okFun)&&(n=i.okFun(e)),n!==!1&&t()}),o('.dialogModal [data-dialogmodal="cancel"]').bind("click",function(){i.cancelFun&&o.isFunction(i.cancelFun)&&i.cancelFun(),t()})}o("html."+p).off("click").removeClass(p),o("."+d).remove();var s=o('<div class="'+d+'"></div>'),c=o('<div class="'+d+'_container"></div>'),m=o('<button type="button" class="close">&times;</button>'),r=o('<div class="'+d+'_body"></div>');if(s.append(c),c.append(m,r),o.isArray(i.html)){var u=0,f=i.html.length-1;r.append(i.html[u]),c.prepend(o('<div class="dialogPrev notactive"></div><div class="dialogNext"></div>'))}else r.append(i.html);o("html").append(s),a=o("."+d+"_container").css("transitionDuration"),a=void 0!=a&&"0s"!=a?1e3*a.replace("s",""):0,i.onLoad&&o.isFunction(i.onLoad)&&i.onLoad(),o("."+d).on("destroyed",function(){i.onClose&&o.isFunction(i.onClose)&&i.onClose()}),e(),o(".dialogModal .dialogPrev").bind("click",function(){u>0&&(--u,f>u&&o(".dialogModal .dialogNext").removeClass("notactive"),0==u&&o(".dialogModal .dialogPrev").addClass("notactive"),r.empty().append(i.html[u]),e())}),o(".dialogModal .dialogNext").bind("click",function(){f>u&&(++u,u>0&&o(".dialogModal .dialogPrev").removeClass("notactive"),u==f&&o(".dialogModal .dialogNext").addClass("notactive"),r.empty().append(i.html[u]),e())}),o(".dialogModal .close").bind("click",function(){t()}),o("html").on("click",function(e){o(this).addClass(p),o("."+d).is(":hidden")&&t();var n=o(e.target);n.parents().andSelf().is("."+d)||n.parents().andSelf().is(l)||t()}),o("html").keydown(function(e){27==e.keyCode?t():37==e.keyCode?o(".dialogModal .dialogPrev").click():39==e.keyCode&&o(".dialogModal .dialogNext").click()})}var c={html:"",okFun:function(){return!0},cancelFun:function(){},onLoad:function(){},onClose:function(){}};i=o.extend(c,e),s?n():l.on("click",function(){n()})},hide:function(){t()}};return c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:c.init.apply(this,arguments)},o.event.special.destroyed={remove:function(o){o.handler&&o.handler()}}}(jQuery);
